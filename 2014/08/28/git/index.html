<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Simple Git book | Whyy&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Git 学习总结">
<meta property="og:type" content="article">
<meta property="og:title" content="Simple Git book">
<meta property="og:url" content="http://yoursite.com/2014/08/28/git/index.html">
<meta property="og:site_name" content="Whyy's Blog">
<meta property="og:description" content="Git 学习总结">
<meta property="og:image" content="http://yoursite.com/./git-diff.jpg">
<meta property="og:image" content="http://yoursite.com/./commit-amend.svg.png">
<meta property="og:image" content="http://yoursite.com/./git-reset.jpg">
<meta property="og:image" content="http://yoursite.com/./basic-usage.svg.png">
<meta property="og:image" content="http://yoursite.com/./checkout-files.svg.png">
<meta property="og:image" content="http://yoursite.com/./checkout-detached.svg.png">
<meta property="og:image" content="http://yoursite.com/./commit-detached.svg.png">
<meta property="og:image" content="http://yoursite.com/./checkout-after-detached.svg.png">
<meta property="og:image" content="http://yoursite.com/./checkout-b-detached.svg.png">
<meta property="og:image" content="http://yoursite.com/./cherry-pick.svg.png">
<meta property="og:image" content="http://yoursite.com/./rebase.svg.png">
<meta property="og:image" content="http://yoursite.com/./rebase-onto.svg.png">
<meta property="og:updated_time" content="2016-02-24T08:24:43.248Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Simple Git book">
<meta name="twitter:description" content="Git 学习总结">
  
    <link rel="alternative" href="/atom.xml" title="Whyy&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
      <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css" type="text/css">
  
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: false,
          isPost: true,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
  
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/avatar.png" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/">Whyy</a></h1>
        </hgroup>

        
        <p class="header-subtitle">幸福也许会迟到，但从未缺席！</p>
        
                


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="mailto:zengzimo8710@gmail.com" title="Email"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/zengzimo" title="GitHub"></a></li>
                            
                                <li id="RSS"><a class="RSS" target="_blank" href="/atom.xml" title="RSS"></a></li>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/Css/" style="font-size: 10px;">Css</a> <a href="/tags/Flex/" style="font-size: 10px;">Flex</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/GitHub/" style="font-size: 10px;">GitHub</a> <a href="/tags/HTML/" style="font-size: 15px;">HTML</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/React/" style="font-size: 20px;">React</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Whyy</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/avatar.png" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Whyy</a></h1>
            </hgroup>
            
            <p class="header-subtitle">幸福也许会迟到，但从未缺席！</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="mailto:zengzimo8710@gmail.com" title="Email"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/zengzimo" title="GitHub"></a></li>
                            
                                <li id="RSS"><a class="RSS" target="_blank" href="/atom.xml" title="RSS"></a></li>
                            
                        </ul>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap"><article id="post-git" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2014/08/28/git/" class="article-date">
      <time datetime="2014-08-27T16:00:00.000Z" itemprop="datePublished">2014-08-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Simple Git book
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/术业专攻/">术业专攻</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/">Git</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>Git 学习总结</p>
<a id="more"></a>
<p><a href="http://gitref.org/basic/#reset" target="_blank" rel="external">git reference</a></p>
<p><a href="http://git-scm.com/docs" target="_blank" rel="external">git api and advanced use</a></p>
<p><a href="http://git-scm.com/book/en/v2" target="_blank" rel="external">git book</a></p>
<p><a href="http://git-scm.com/docs/gittutorial" target="_blank" rel="external">git tutorial</a></p>
<p>比较推荐的git管理工具是sourceTree，原因是其既有图形化界面又有git命令行</p>
<h2 id="git-common-command-description"><a href="#git-common-command-description" class="headerlink" title="git common command description"></a>git common command description</h2><h3 id="git-cat-file"><a href="#git-cat-file" class="headerlink" title="git cat-file"></a>git cat-file</h3><p>git cat-file -t <commit>，查看Git对象的类型，主要的git对象包括tree，commit，parent，和blob等。</commit></p>
<p>git cat-file -p <commit>，查看Git对象的内容</commit></p>
<h3 id="git-log"><a href="#git-log" class="headerlink" title="git log"></a>git log</h3><p>git log主要用来显示分支中提交更改的记录。当执行git commit以存储一个快照的时候，文件详单、提交消息和提交者的信息、此次提交所基于的快照都会被保存。</p>
<p>git log –oneline，可以显示更加短小的提交ID.</p>
<p>git log –graph，显示何时出现了分支和合并等信息,也就是图形显示</p>
<p>git log –pretty=raw，显示提交对象的parent属性.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log --pretty=oneline filename <span class="comment">//每个文件的提交历史</span></span><br></pre></td></tr></table></figure>
<p>git log erlang ^master，查看只在erlang分支里的修改</p>
<p>git log –grep, 正则根据提交注释过滤提交记录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log --grep=P4EDITOR --no-merges</span><br></pre></td></tr></table></figure>
<p>git log -p filename，查看特定文件的详细提交记录</p>
<p>git log –author， 只寻找某个特定作者的提交</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log --author=Linus --oneline -5</span><br></pre></td></tr></table></figure>
<p>git log –since –before, 根据日期过滤提交记录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log --oneline --before=&#123;3.weeks.ago&#125; --after=&#123;2010-04-18&#125; --no-merges</span><br></pre></td></tr></table></figure>
<p>git blame [filename], 查看文件的每个部分是谁修改的</p>
<h3 id="git-config"><a href="#git-config" class="headerlink" title="git config"></a>git config</h3><p>git config -e</p>
<p>git config -e –global</p>
<p>git config -e –system</p>
<p>Git的三个配置文件分别是版本库级别的配置文件（/.git/config）、全局配置文件（用户主目录下）和系统级配置文件（/etc目录 下）。这个命令的作用是打开相应的配置文件，并且进行编辑。其中版本库级别的配置文件的优先级最高，全局配置文件次之，系统级别配置文件最低。Git配置 文件采用的是INI文件格式。</p>
<h4 id="在全局空间中添加新的用户"><a href="#在全局空间中添加新的用户" class="headerlink" title="在全局空间中添加新的用户"></a>在全局空间中添加新的用户</h4><p>git config –global user.name “lili.tian”</p>
<p>git config –global user.email tianxuelihello@sina.cn</p>
<h4 id="设置git命令的别名"><a href="#设置git命令的别名" class="headerlink" title="设置git命令的别名"></a>设置git命令的别名</h4><p>git config –global alias.ci commit</p>
<p>git config –global alias.co checkout</p>
<h4 id="删除git全局配置文件中的用户名"><a href="#删除git全局配置文件中的用户名" class="headerlink" title="删除git全局配置文件中的用户名"></a>删除git全局配置文件中的用户名</h4><p>git config –unset –global user.name</p>
<p>git config –unset –global user.email</p>
<h3 id="git-grep"><a href="#git-grep" class="headerlink" title="git grep"></a>git grep</h3><p>git grep可以用来搜索工作区中的文件内容</p>
<p>要查找git仓库里某个特定版本里的内容, 我们可以像下面一样在命令行末尾加上标签名(tag reference)，git grep ‘文字内容’ v1.0</p>
<h3 id="git-diff"><a href="#git-diff" class="headerlink" title="git diff"></a>git diff</h3><p><img src="./git-diff.jpg" alt="git diff 命令详解" title="git diff 命令详解"></p>
<p>git diff，显示工作区和暂存区的差异</p>
<p>git diff HEAD，显示工作区和HEAD之间的差异</p>
<p>git diff –cached，显示暂存区和HEAD之间的差异</p>
<p>git diff id1 id2，显示两次提交之间的差异</p>
<h3 id="git-status"><a href="#git-status" class="headerlink" title="git status"></a>git status</h3><p>git status，查看你的代码在缓存与当前工作目录的状态</p>
<p>git status -s，将结果以简短的形式输出</p>
<h3 id="git-add"><a href="#git-add" class="headerlink" title="git add"></a>git add</h3><p>git add，在提交你修改的文件之前，你需要把它们添加到暂存区。如果该文件是新创建的，你可以执行将该文件添加到暂存区</p>
<p>git add . ，Git会递归地将你执行命令时所在的目录中的所有文件添加上去，所以如果你将当前的工作目录作为参数，它就会追踪那儿的所有文件</p>
<p>git add -u，使用-u参数调用了git add命令，会将本地有改动（包括删除和修改）的已经追踪的文件标记到暂存区中。</p>
<p>git add -A，使用-A参数会将添加所有改动的已跟踪文件和未跟踪文件。</p>
<p>git add -i，交互式的方式进行添加。</p>
<h3 id="git-commit"><a href="#git-commit" class="headerlink" title="git commit"></a>git commit</h3><p>git commit –amend，修补式提交。</p>
<p><img src="./commit-amend.svg.png" alt="git commit --amend" title="git commit --amend"></p>
<p>git commit –a，对本地所有变更的文件执行提交操作，包括对本地修改的文件和删除的文件，但是不包括未被版本库跟踪的文件。但是这个命令最好不要使用，这样会丢掉Git暂存区带给用户的最大好处：对提交内容进行控制的能力</p>
<p>git commit –allow-empty，允许执行空白提交</p>
<h3 id="git-reset"><a href="#git-reset" class="headerlink" title="git reset"></a>git reset</h3><p><img src="./git-reset.jpg" alt="git reset命令详解" title="git reset命令详解"></p>
<p>把当前分支指向另一个位置，并且有选择的变动工作目录和索引</p>
<p>git reset –hard <commit>，其中commit是可选项，可以使用引用或者提交ID，如果省略则相当于使用了HEAD的指向作为提交ID，完成的操作包括替换引用的指向，替换暂存区，替换工作区</commit></p>
<p>git reset –soft <commit>，其中commit是可选项，可以使用引用或者提交ID，如果省略则相当于使用了HEAD的指向作为提交ID。完成的操作主要是更改引用的指向，不改变暂存区和工作区</commit></p>
<p>git reset，等同于git reset HEAD，用HEAD指向的目录树重置暂存区</p>
<p>git reset – filename，将文件filename的改动撤出暂存区，暂存区其他文件不变</p>
<p>git reset HEAD –filename 等同于git reset – filename, 比如之前有add filename，此命令操作之后，filename将处于未被add的状态，也就是从index转变为working状态</p>
<p>reset的三个选项在此做一重复说明：</p>
<ul>
<li>–hard， 回退版本，代码也回退，忽略所有修改</li>
<li>–soft， 回退版本，代码不变，回退所有的add操作</li>
<li>–mixed， 回退版本，代码不变，保留add操作</li>
</ul>
<h3 id="git-branch"><a href="#git-branch" class="headerlink" title="git branch"></a>git branch</h3><p>git branch，显示当前所在的分支</p>
<p>git branch <branchname>，创建新的分支branchname</branchname></p>
<p>git branch <branchname> <start-point>，基于提交<start-point>创建新分支，新分支的分支名为<branchname></branchname></start-point></start-point></branchname></p>
<p>git branch -d <branchname> ，删除名称为branchname的分支，删除时会检查所有的删除分支是否已经合并到其他分支，否则拒绝删除</branchname></p>
<p>git branch -D <branchname>，强制删除分支<branchname></branchname></branchname></p>
<p>git branch -m <oldbranch> <newbranch>，重命名分支</newbranch></oldbranch></p>
<p>git branch -r , 查看远程分支</p>
<p>git branch -v, 查看各个分支最后提交信息</p>
<p>git branch –merged, 查看已经被合并到当前分支的分支</p>
<p>git branch –no-merged, 查看尚未被合并到当前分支的分支</p>
<p>git checkout [branchName]， 切换分支</p>
<p>git checkout -b [branchName], 创建新分支并立即切换到新分支</p>
<p>git checkout -b [分支名] [远程名]/[分支名], 建立本地分支并与远程分支关联</p>
<p>git checkout –track origin/serverfix, 建立本地分支serverfix并与远程分支serverfix关联</p>
<blockquote>
<p>Branch serverfix set up to track remote branch serverfix from origin.Switched to a new branch ‘serverfix’</p>
</blockquote>
<p>git merge [branchName], 将名称为branchName的分支与当前分支合并</p>
<p>git push origin [branchName], 创建远程分支（本地分支push到远程）</p>
<p>git push origin : [branchName], 删除远程分支branchName</p>
<h3 id="git-checkout"><a href="#git-checkout" class="headerlink" title="git checkout"></a>git checkout</h3><p>checkout命令用于从历史提交（或者暂存区域）中拷贝文件到工作目录，也可用于切换分支</p>
<p>git checkout branchname，会改变HEAD头指针，主要用于切换分支</p>
<p>git checkout -b branchname，用于创建一个新的分支，并且切换到创建的新的分支上</p>
<p>git checkout –filename，用暂存区中的filename文件来覆盖工作区中的filename文件</p>
<p>git checkout <commit> –filename，用指定提交中的文件覆盖暂存区和工作区中对应的文件</commit></p>
<p>git checkout – .或者git checkout .，用暂存区的所有文件直接覆盖本地文件，取消所有的本地的修改，是一条危险的操作</p>
<p><img src="./basic-usage.svg.png" alt="图解工作目录、暂存区、仓库的关系" title="图解工作目录、暂存区、仓库的关系"></p>
<p>看一个git checkout HEAD~ files的图例：<br><img src="./checkout-files.svg.png" alt="git checkout HEAD~ files图例" title="git checkout HEAD~ files图例"></p>
<p>如果既没有指定文件名，也没有指定分支名，而是一个标签、远程分支、SHA-1值或者是像master~3类似的东西，就得到一个匿名分支，称作detached HEAD（被分离的HEAD标识）。这样可以很方便地在历史版本之间互相切换。比如说你想要编译1.6.6.1版本的git，你可以运行git checkout v1.6.6.1（这是一个标签，而非分支名），编译，安装，然后切换回另一个分支，比如说git checkout master。然而，当提交操作涉及到“分离的HEAD”时，其行为会略有不同</p>
<p><img src="./checkout-detached.svg.png" alt="git checkout master~3" title="git checkout master~3"></p>
<h4 id="HEAD标识处于分离状态时的提交操作"><a href="#HEAD标识处于分离状态时的提交操作" class="headerlink" title="HEAD标识处于分离状态时的提交操作"></a>HEAD标识处于分离状态时的提交操作</h4><p>当HEAD处于分离状态（不依附于任一分支）时，提交操作可以正常进行，但是不会更新任何已命名的分支。(你可以认为这是在更新一个匿名分支。)</p>
<p><img src="./commit-detached.svg.png" alt="git commit" title="git commit"></p>
<p>一旦此后你切换到别的分支，比如说master，那么这个提交节点（可能）再也不会被引用到，然后就会被丢弃掉了。注意这个命令之后就不会有东西引用2eecb。</p>
<p><img src="./checkout-after-detached.svg.png" alt="git checkout master"></p>
<p>但是，如果你想保存这个状态，可以用命令git checkout -b name来创建一个新的分支。</p>
<p><img src="./checkout-b-detached.svg.png" alt="git checkout -b new"></p>
<p>git checkout $id, 把某次历史提交记录checkout出来，但无分支信息，切换到其他分支会自动删除</p>
<p>git checkout $id -b <new_branch>, 把某次历史提交记录checkout出来，创建成一个分支</new_branch></p>
<h3 id="git-clean"><a href="#git-clean" class="headerlink" title="git clean"></a>git clean</h3><p>删除本地多余的目录和文件</p>
<p>git clean -nd，显示要删除的内容，但是是预删除</p>
<p>git clean -fd，强制删除多余的文件和目录</p>
<h3 id="git-rm"><a href="#git-rm" class="headerlink" title="git rm"></a>git rm</h3><p>rm命令删除的文件只是在本地进行了删除，尚未添加到暂存区，也就是说，直接在工作区删除，对暂存区和版本库没有任何影响。</p>
<p>git rm命令会将删除动作加入暂存区，这是执行提交动作，就从真正意义上执行了文件删除。</p>
<p>git rm file –cached，只从暂存区移除，保存本地的文件</p>
<h3 id="git-mv"><a href="#git-mv" class="headerlink" title="git mv"></a>git mv</h3><p>git mv，移动文件，git中以git rm和git add两条命令取而代之。</p>
<h3 id="git-archive"><a href="#git-archive" class="headerlink" title="git archive"></a>git archive</h3><p>git archive，对任意提交对应的目录树建立归档。</p>
<p>git archive -o latest.zip HEAD，基于最新提交建立归档文件latest.zip</p>
<p>git archive -o partial.tar HEAD src doc，只将目录src和doc建立到归档文件partial.tar中</p>
<p>git archive –format=tar –prefix=1.0/ v1.0 | gzip &gt; foo-1.0.tar.gz，基于里程碑v1.0建立归档，并且为归档中的文件添加目录前缀1.0</p>
<h3 id="git-clone"><a href="#git-clone" class="headerlink" title="git clone"></a>git clone</h3><p>git clone <repository> <directory>，将repository指向的版本库创建一个克隆到directory目录中。目录directory相当于克隆版 本库的工作区，文件都会检出，版本库位于工作区下得.git目录中。</directory></repository></p>
<p>git clone –bare \<repository\> \<directory.git\></directory.git\></repository\></p>
<p>git clone –mirror \<repository\> \<directory.git\></directory.git\></repository\></p>
<p>只克隆特定分支：</p>
<blockquote>
<p>git clone -b \<branch name\=""> \<remote repository\=""></remote></branch></p>
</blockquote>
<p>上面的两种克隆版本都不包含工作区，直接就是版本库的内容，这样的版本库称为裸版本库。</p>
<h3 id="git-push"><a href="#git-push" class="headerlink" title="git push"></a>git push</h3><p>git push <remote> [branch]，就会将你的 [branch] 分支推送成为 [alias] 远端上的 [branch] 分支，要推送的远程版本号的URL地址由remote.<remote>.pushurl给出，如果没有配置，则使用 remote.<remote>.url配置的URL地址。</remote></remote></remote></p>
<p>如果想把本地的某个分支test提交到远程仓库，并作为远程仓库的master分支，或者作为另外一个名叫test的分支，如下：</p>
<p>$git push origin test:master // 提交本地test分支作为远程的master分支 </p>
<p>$git push origin test:test // 提交本地test分支作为远程的test分支</p>
<h3 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h3><p>git pull，从远端的服务器上下载数据，从而实现同步更新。要获取的远程版本库的URL地址由remote.<remote>.url提供。</remote></p>
<h3 id="git-stash"><a href="#git-stash" class="headerlink" title="git stash"></a>git stash</h3><p>将当前未提交的工作存入Git工作栈中，时机成熟的时候再应用回来</p>
<p>git stash clear, 清空stash堆栈</p>
<p>git stash list, 列所有stash</p>
<p>git stash apply, 恢复暂存的内容</p>
<p>git stash drop, 删除暂存区</p>
<h3 id="git-tag"><a href="#git-tag" class="headerlink" title="git tag"></a>git tag</h3><p>git tag , 查看标签</p>
<p>git tag [name], 创建标签</p>
<p>git tag -d [name], 删除标签</p>
<p>git tag -r, 查看远程标签</p>
<p>git push origin [tagname] ,创建远程标签(本地push到远程)</p>
<p>git push origin :refs/tags/[name]， 删除远程标签</p>
<p>git pull origin –tags ，合并远程的标签到本地</p>
<p>git push origin –tags，上传本地tag到远程仓库</p>
<p>git tag -a [name] -m ‘your message’, 创建带注释的tag</p>
<h3 id="子模块相关操作命令"><a href="#子模块相关操作命令" class="headerlink" title="子模块相关操作命令"></a>子模块相关操作命令</h3><p>$ git submodule add [url] [path], 添加子模块, 如：<br>$ git submodule add git://github.com/soberh/ui-libs.git src/main/webapp/ui-libs</p>
<p>初始化子模块：$ git submodule init —-只在首次检出仓库时运行一次就行 </p>
<p>更新子模块：$ git submodule update —-每次更新或切换分支后都需要运行一下</p>
<p>删除子模块：（分4步走哦） </p>
<ul>
<li>$ git rm –cached [path] </li>
<li>编辑“.gitmodules”文件，将子模块的相关配置节点删除掉 </li>
<li>编辑“ .git/config”文件，将子模块的相关配置节点删除掉 </li>
<li>手动删除子模块残留的目录</li>
</ul>
<h3 id="cherry-pick"><a href="#cherry-pick" class="headerlink" title="cherry-pick"></a>cherry-pick</h3><p>cherry-pick命令“复制”一个提交节点并在当前分支做一次完全一样的新提交</p>
<p><img src="./cherry-pick.svg.png" alt="git cherry-pick 2c33a"></p>
<h3 id="rebase"><a href="#rebase" class="headerlink" title="rebase"></a>rebase</h3><p>衍合是合并命令的另一种选择。合并把两个父分支合并进行一次提交，提交历史不是线性的。衍合在当前分支上重演另一个分支的历史，提交历史是线性的。本质上，这是线性化的自动的 cherry-pick</p>
<p><img src="./rebase.svg.png" alt="git rebase master"></p>
<p>上面的命令都在topic分支中进行，而不是master分支，在master分支上重演，并且把分支指向新的节点。注意旧提交没有被引用，将被回收。</p>
<p>要限制回滚范围，使用–onto选项。下面的命令在master分支上重演当前分支从169a6以来的最近几个提交，即2c33a。</p>
<p><img src="./rebase-onto.svg.png" alt="git rebase --onto master 169a6"></p>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p>
<h3 id="git-revert-撤销历史提交-也就是说恢复历史提交状态，恢复动作本身也创建了一次提交对象"><a href="#git-revert-撤销历史提交-也就是说恢复历史提交状态，恢复动作本身也创建了一次提交对象" class="headerlink" title="git revert 撤销历史提交,也就是说恢复历史提交状态，恢复动作本身也创建了一次提交对象"></a>git revert 撤销历史提交,也就是说恢复历史提交状态，恢复动作本身也创建了一次提交对象</h3><p>=======<br>git merge origin/master –no-ff, 不要Fast-Foward合并，这样可以生成merge提交</p>
<p>git rebase master <branch>, 将master rebase到branch，相当于：</branch></p>
<blockquote>
<p>git co <branch> &amp;&amp; git rebase master &amp;&amp; git co master &amp;&amp; git merge <branch></branch></branch></p>
</blockquote>
<h3 id="Git补丁管理"><a href="#Git补丁管理" class="headerlink" title="Git补丁管理"></a>Git补丁管理</h3><p>git diff &gt; ../sync.patch, 生成补丁</p>
<p>git apply ../sync.patch, 打补丁</p>
<p>git apply –check ../sync.patch, 测试补丁能否成功</p>
<h3 id="git-revert-撤销历史提交"><a href="#git-revert-撤销历史提交" class="headerlink" title="git revert 撤销历史提交"></a>git revert 撤销历史提交</h3><blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>eb51bd75e19afd41ee3777d8cb33b2955cc4a336</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>git revert commit_ID</p>
<h3 id="format-patch"><a href="#format-patch" class="headerlink" title="format-patch"></a>format-patch</h3><p>git format-patch [commitId], 某次提交以后的所有patch</p>
<p>git format-patch [commitId1]..[commitId2], 某两次提交之间的所有patch</p>
<p>git format-patch -M master, 当前分支所有超前master的提交patch</p>
<p>git format-patch -n 07fe, –n指patch数，07fe对应提交的名称，表示某次提交（含）之前的几次提交的patch</p>
<p>git format-patch master, 把分支与master比较差异并生成patch，生成目录为执行命令目录</p>
<p>git apply –stat newpatch.patch, 检查patch文件</p>
<p>git apply –check newpatch.patch , 检查能否应用成功</p>
<p>git am newpatch.patch, 应用补丁</p>
<p>git am 文件夹路径/*.patch, git 会根据patch顺序合并代码，合并patch时若发生冲突则暂停，需手动解决</p>
<p>git am打补丁失败之后可能会报错大概如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git am PATCH&#10;Applying: PACTH DESCRIPTION&#10;error: patch failed: file.c:137&#10;error: file.c: patch does not apply&#10;error: patch failed: Makefile:24&#10;error: libavfilter/Makefile: patch does not apply&#10;Patch failed at 0001 PATCH DESCRIPTION&#10;When you have resolved this problem run &#34;git am --resolved&#34;.&#10;If you would prefer to skip this patch, instead run &#34;git am --skip&#34;.&#10;To restore the original branch and stop patching run &#34;git am --abort&#34;.</span><br></pre></td></tr></table></figure>
<p>以上是因为发生了冲突，git输出上述信息后就会停下来，一个小冲突会导致整个patch都不会被集成</p>
<p>处理这种问题最简单的方式是：</p>
<ul>
<li>git apply –reject path.patch, 先合并没有产生冲突的文件，根据同目录下的*.rej文件找出冲突的地方</li>
<li>git add <em>*</em>, 把本次patch改动的文件添加进缓存</li>
<li>git am –resolved, 恢复patch的合并，如果没有再提示就合并patch成功</li>
</ul>
<h3 id="Git远程仓库管理"><a href="#Git远程仓库管理" class="headerlink" title="Git远程仓库管理"></a>Git远程仓库管理</h3><p>git remote -v, 查看远程服务器地址和仓库名称</p>
<p>git remote show origin, 查看远程服务器仓库状态</p>
<p>git remote add origin git@github:robbin/robbin_site.git, 添加远程仓库地址</p>
<p>git remote set-url origin git@github.com:robbin/robbin_site.git, 设置远程仓库地址(用于修改远程仓库地址)</p>
<p>git remote rm <repository>, 删除远程仓库</repository></p>
<h3 id="创建远程仓库"><a href="#创建远程仓库" class="headerlink" title="创建远程仓库"></a>创建远程仓库</h3><p>git clone –bare robbin_site robbin_site.git, 用带版本的项目创建纯版本仓库</p>
<p>scp -r my_project.git git@git.csdn.net:~, 将纯仓库上传到服务器上</p>
<p>mkdir robbin_site.git &amp;&amp; cd robbin_site.git &amp;&amp; git –bare init, 在服务器创建纯仓库</p>
<p>git push -u origin develop, 首次将本地develop分支提交到远程develop分支，并且track</p>
<p>git remote set-head origin master, 设置远程仓库的HEAD指向master分支</p>
<p>也可以命令设置跟踪远程库和本地库<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch --set-upstream master origin/master&#10;git branch --set-upstream develop origin/develop</span><br></pre></td></tr></table></figure></p>
<h2 id="webhooks进行网站自动化部署"><a href="#webhooks进行网站自动化部署" class="headerlink" title="webhooks进行网站自动化部署"></a>webhooks进行网站自动化部署</h2><p>自动化部署可以做到有新的commit push到master分支的时候，就自动在测试/生产服务器上进行git pull拉取最新代码等操作。git的webhooks可以满足此需求</p>
<p><a href="./beforeAutoBuild.png">自动化部署之前的操作过程</a></p>
<p><a href="./githooksAutoBuild.png">使用webhooks自动化部署之后的操作流程</a></p>
<p><a href="https://help.github.com/articles/about-webhooks/" target="_blank" rel="external">git提供的使用说明</a></p>
<a href="!--
利用webhooks步骤：http://www.cnblogs.com/daishuguang/p/3925984.html

http://www.lovelucy.info/auto-deploy-website-by-webhooks-of-github-and-gitlab.html#more-2148
--">!--
利用webhooks步骤：http://www.cnblogs.com/daishuguang/p/3925984.html

http://www.lovelucy.info/auto-deploy-website-by-webhooks-of-github-and-gitlab.html#more-2148
--</a>

      
    </div>
    
  </div>
  
    


    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2014/08/28/reactLifecycle/">
                    React  Lifecycle
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2014/08/28/front-end-structure/">
                    Frontend Knowledge Structure
                </a>
            </div>
        
    </nav>

  
</article>




    
        <section class="youyan" id="comments">
  <div id="uyan_frame"></div>
  <script src="http://v2.uyan.cc/code/uyan.js?uid=2085034"></script>
</section>

    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2014/08/28/reactLifecycle/" title="上一篇: React  Lifecycle">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2014/08/28/front-end-structure/" title="下一篇: Frontend Knowledge Structure">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/03/14/React-CreatClassAndExtendsComponet/">React.createClass VS extends React.Component</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/02/23/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/01/10/hexo-post-version-control/">关联 GitHub, 让 Hexo 支持查看文章更新历史</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/08/28/Front-End-Study/">个人 Web 前端学习路线</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/01/10/flex/">Web的Flex弹性盒模型</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/08/28/reactState/">React  SetState method</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/08/28/reactLifecycle/">React  Lifecycle</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/08/28/git/">Simple Git book</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/08/28/front-end-structure/">Frontend Knowledge Structure</a></li></ul>
    <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
    <script>
        $(".post-list").addClass("toc-article");
        $(".post-list-item a").attr("target","_blank");
        $("#post-nav-button > a:nth-child(2)").click(function() {
            $(".fa-bars, .fa-times").toggle();
            $(".post-list").toggle(300);
            if ($(".toc").length > 0) {
                $("#toc, #tocButton").toggle(200, function() {
                    if ($(".switch-area").is(":visible")) {
                        $("#toc, .switch-btn, .switch-area").toggle();
                        $("#tocButton").attr("value", valueHide);
                        }
                    })
            }
            else {
                $(".switch-btn, .switch-area").fadeToggle(300);
            }
        })
    </script>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2016 Whyy
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的静态博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减双栏 Hexo 博客主题">Yelee</a> by MOxFIVE
            </div>
        </div>
        
    </div>
</footer>
    </div>
    
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>

    <style>
        body {
          background: lightgray;
        }
        #container .left-col {
          background: white;
        }
        .article-inner {
          background: white;
          margin-bottom: 1em;
        }
        .post-nav-button {
          background: #ececec;
        }
        #header .header-nav .social #GitHub {
          background-color: #bfd3ec;
        }
        #post-nav-button a {
          background: rgba(215, 216, 215, .2);
        }
        .post-list {
          background: white;
        }
    </style>




<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>

<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>


<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>